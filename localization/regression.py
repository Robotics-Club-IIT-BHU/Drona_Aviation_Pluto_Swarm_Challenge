import numpy as np
from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import PolynomialFeatures

class Regression:
	def __init__(self):
		lin1, poly, lin2 = self.train_model(X, Y)
		self.lin1 = lin1
		self.poly = poly
		self.lin2 = lin2
	def simple_regression(self, tvec):
		m = np.array([[0.8928],
					  [0.9259],
					  [1]])
		_tvec = np.multiply(tvec, m)
		return _tvec
	def linear_regression(self, tvec):
		x = tvec[...,:2]
		y = self.lin1.predict(x)
		return y[0]
	def polynomial_regression(self, tvec):
		x = tvec[...,:2]
		y = self.lin2.predict(self.poly.fit_transform(x))
		return y[0]
	def train_model(self, x, y):
		lin1 = LinearRegression()
		lin1.fit(x, y)
		poly = PolynomialFeatures(degree=4)
		x_poly = poly.fit_transform(x)
		poly.fit(x_poly, y)
		lin2 = LinearRegression()
		lin2.fit(x_poly, y)
		return lin1, poly, lin2

X = np.array([[-113.19,-117.68], [-83.17,-117.40], [-55.34,-113.35], [-26.74,-114.97], [-1.44,-113.85], [25.82,-114.35],  [51.37,-114.31],  [80.92,-115.92],  [110.45,-117.80],
			  [-111.66,-84.78],  [-82.89,-85.18],  [-54.45,-84.18],  [-26.56,-85.12],  [1.42,-85.70],  [26.20,-85.39],   [55.15,-86.85],    [81.71,-87.47],   [105.34,-87.62],
			  [-109.74,-54.04],  [-82.09,-55.32],  [-53.86,-54.82],  [-26.41,-55.70],  [-1.09,-56.29],  [26.97,-56.68],   [51.99,-57.45],   [78.27,-58.41],   [108.64,-59.52],
			  [-110.26,-24.66],  [-81.20,-25.38],  [-53.99,-26.56],  [-28.03,-27.08],  [1.98,-27.32],  [26.61,-28.92],   [50.91,-29.77],   [82.29,-29.87],   [103.71,-30.99],
			  [-108.47,4.33],    [-80.65,2.93],    [-52.89,2.48],    [-27.16,0.68],     [-0.61,0.14],     [24.17,-1.37],    [50.93,-1.87],    [79.49,-2.27],    [109.51,-2.18],
			  [-109.57,33.97],   [-80.72,30.65],   [-53.97,28.32],   [-24.63,30.53],   [1.18,28.68],    [25.08,26.25],   [55.52,27.45],    [83.47,27.51],    [113.41,27.63],
			  [-108.76,63.02],   [-80.80,61.68],   [-52.56,61.35],   [-26.11,57.38],    [0.31,55.54],     [26.06,54.35],   [54.00,54.86],    [84.85,57.05],    [112.35,56.03],
			  [-108.61,91.18],   [-80.93,91.13],   [-54.08,85.66],    [-25.99,86.99],    [3.89,88.89],    [29.23,85.58],    [53.17,82.02],    [85.63,85.52],    [113.32,85.24],
			  [-107.52,118.78],  [-80.05,117.02],  [-52.22,117.71],  [-25.49,116.56],   [1.58,114.53],    [30.08,115.00],   [57.73,116.25],   [78.20,107.77],   [113.69,114.78]])
Y = np.array([[-100,-100], [-75,-100], [-50,-100], [-25,-100], [0,-100], [25,-100], [50,-100], [75,-100], [100,-100],
			  [-100,-75],  [-75,-75],  [-50,-75],  [-25,-75],  [0,-75],  [25,-75],  [50,-75],  [75,-75],  [100,-75],
			  [-100,-50],  [-75,-50],  [-50,-50],  [-25,-50],  [0,-50],  [25,-50],  [50,-50],  [75,-50],  [100,-50],
			  [-100,-25],  [-75,-25],  [-50,-25],  [-25,-25],  [0,-25],  [25,-25],  [50,-25],  [75,-25],  [100,-25],
			  [-100,0],    [-75,0],    [-50,0],    [-25,0],    [0,0],    [25,0],    [50,0],    [75,0],    [100,0],
			  [-100,25],   [-75,25],   [-50,25],   [-25,25],   [0,25],   [25,25],   [50,25],   [75,25],   [100,25],
			  [-100,50],   [-75,50],   [-50,50],   [-25,50],   [0,50],   [25,50],   [50,50],   [75,50],   [100,50],
			  [-100,75],   [-75,75],   [-50,75],   [-25,75],   [0,75],   [25,75],   [50,75],   [75,75],   [100,75],
			  [-100,100],  [-75,100],  [-50,100],  [-25,100],  [0,100],  [25,100],  [50,100],  [75,100],  [100,100]])